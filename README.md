## Задача генерации входных данных для алгоритма автоматической вертикальной сшивки изображений КТ

### Постановка задачи:
Когда исследуемый объект имеет габариты превышающие область сканирования томографа, возникает необходимость сканирования объекта по частям и последующей сшивки отдельных реконструкций, с помощью специального алгоритма автоматической вертикальной сшивки изображений КТ. Задача состоит в генерации входных данных для этого алгоритма путем имитации процесса стекового сканирования. Эти данные представляют собой набор вертикально смежных реконструкций частей объекта и могут быть как идеальными, так и с различными искажениями для имитации реконструкций, максимально приближенных к реальным.

### Зависимости:
- [TomoPhantom](https://github.com/dkazanc/TomoPhantom)
- [ToMoBAR](https://github.com/dkazanc/ToMoBAR)
- [OpenCV](https://opencv.org/)

### Сборка:
```
cd stacked-tomoscan-gen
mkdir build
cd build
cmake ..
make
```

### Использование:
```
./strg <config_file>
```
Параметры генерации задаются в конфигурационном файле специального формата (см. [пример](https://github.com/egor79k/stacked-tomoscan-gen/blob/main/gen_params.config)). Файл должен содержать следующие параметры:
| **Имя**                      | **Описание**                                                   | **Значение** |
|------------------------------|----------------------------------------------------------------|--------------|
| **_Параметры модели_**       |                                                                |              |
| models_lib                   | Адрес библиотеки 3D фантомов                                   | str          |
| model                        | Номер модели в библиотеке                                      | uint         |
| **_Параметры разбиения_**    |                                                                |              |
| height                       | Высота цельной реконструкции всей модели                       | uint         |
| width                        | Ширина реконструкции                                           | uint         |
| parts_num                    | Количество реконструкций                                       | uint         |
| overlay                      | Толщина перекрытия соседних реконструкций                      | uint         |
| **_Параметры сканирования_** |                                                                |              |
| angles_num                   | Количество углов с которых регистрируются проекции             | uint         |
| angles_step                  | Шаг между углами                                               | float        |
| **_Параметры искажений_**    |                                                                |              |
| seed                         | Сид для псевдослучайных искажений                              | uint         |
| is_noisy                     | Нужно ли накладывать шум                                       | bool         |
| noise_amplitude              | Интенсивность шума                                             | uint         |
| is_offset                    | Нужно ли делать случайные смещения относительно оси            | bool         |
| max_offset                   | Максимальное смещение относительно оси                         | uint         |
| is_tilted                    | Нужно ли делать случайные наклоны относительно оси             | bool         |
| max_tilt                     | Максимальный наклон относительно оси                           | uint         |
| **_Параметры изображений_**  |                                                                |              |
| save_path                    | Адрес сохранения реконструкций                                 | str          |
| format                       | Формат изображений {.tiff,.png,...}                            | str          |
| type                         | Формат пикселей {uint8,uint16,uint32,int8,int16,int32,float32} | str          |
